{% extends 'base.html' %}

{% load url from future %}

{% block title %}/ {% if g %}{{ g.topic }}{% else %}Create{% endif %}{% endblock %}

{% block content %}
    <div class="row-fluid">
        {% if g %}
            <h1 class="span8">Editing "{{ g.topic }}"</h1>
        {% else %}
            <h1 class="span8">Add new study</h1>
        {% endif %}
        <a class="btn btn-primary span2 offset2 h1-btn save-btn visible-desktop visible-tablet">Save</a>
    </div>

    <form action="{% if g %}{% url 'edit_study' g.id %}{% else %}{% url 'create_study' %}{% endif %}" id="save_group" method="post">
        {% csrf_token %}
        <table class="table table-striped table-hover table-bordered">
            <thead>
                <tr>
                    <td colspan="2"><strong>Study Information</strong></td>
                </tr>
            </thead>
            <tr>
                <td>Topic</td>
                <td>{{ form.topic }}</td>
            </tr>
            <tr>
                <td>Venue</td>
                <td>{{ form.venue }}</td>
            </tr>
        </table>

        {% for slot in slots %}
        <table class="table table-striped table-hover table-bordered">
            <thead>
                <tr>
                    <td colspan="2"><strong>Timeslot</strong></td>
                </tr>
            </thead>
            <tr>
                <td>Date & Time</td>
                <td>{{ slot.datetime }}</td>
            </tr>
            <tr>
                <td>Participant Compensation</td>
                <td>
                    <div class="input-prepend">
                        <span class="add-on">$</span>
                        {{ slot.compensation }}
                    </div>
                </td>
            </tr>
            <tr>
                <td>Co-op Price</td>
                <td>
                    <div class="input-prepend">
                        <span class="add-on">$</span>
                        {{ slot.coop_price }}
                    </div>
                </td>
            </tr>
            <tr>
                <td>Spots</td>
                <td>{{ slot.spots }}</td>
            </tr>
        </table>
        {% endfor %}

        <table class="table table-striped table-hover table-bordered">
            <tr>
                <td>Notes</td>
                <td>{{ form.notes }}</td>
            </tr>
        </table>
    </form>
{% endblock %}